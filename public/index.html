<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Web site created using create-react-app" />

    <title>Prototype Cybertek Simracing</title>
  </head>
  <body>
    <!-- https://cybertek-r3f-carshow.vercel.app -->
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div class="us-container">
      <div class="loader-wrap">
          <div class="us-loader">
              <div></div>
              <span></span>
          </div>
      </div>
      <div class="hero-banner">
  
          <div class="overlay-hero-banner"></div>
          <div id="cadres"></div>
          <h1>Plongez au coeur de l'univers SimRacing</h1>
          <ul>
              <div class="cat-line">
                  <div></div>
                  <div></div>
              </div>
              
          </ul>
      </div>
  
      <div class="cat-3d-container">
          <div class="cat-3d">
              <div class="cat-3d__wrapper">
                  <div class="cat-3d__top">
                      <div class="cat-3d__top__name">
                          <div class="cat-3d__top__name__wrapper">
                              <span id="cat-index">(00)</span>
                              <span id="cat-name">Set up SimRacing</span>
                          </div>
                      </div>
  
                      <div class="cat-3d__top__product">
                          <div class="cat-3d__top__product__wrapper">
                              <div id="category"></div>
                              <div class="cat-3d__top__product__plaque"></div>
  
                          </div>
                      </div>
  
                      <div class="cat-3d__top__description">
                          <svg xmlns="http://www.w3.org/2000/svg" width="94" height="58" viewBox="0 0 94 58" fill="none">
                              <path d="M28.5528 1.27639H93.0528M29 1L1 57" stroke="white" stroke-width="2" stroke-linecap="round" />
                          </svg>
  
                          <p id="cat-content">Dotés de <strong>de force précis</strong>, de matériaux haut de gamme et d'une ergonomie pensée pour la <strong>performance</strong>, nos volants vous permettent de ressentir chaque virage, chaque vibration et chaque instant de la piste comme un véritable pilote.</p>
                      </div>
  
                      <a href="" class="cat-3d__redirect" id="cat-link">
                          <span>En savoir plus</span>
                          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                              <path d="M6.4 18L16 8.4V17H18V5H6V7H14.6L5 16.6L6.4 18Z" fill="white" />
                          </svg>
                      </a>
                  </div>
  
                  <div class="cat-3d__bot">
                      <ul>
                          <!-- INSERTION DATA DYNAMIQUE -->
                      </ul>
                  </div>
              </div>
  
          </div>
          <div class="cat-3d__bg">
              <div class="cat-3d__bg__overlay"></div>
              <img src="https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/bg-pneu.png" alt="">
          </div>
      </div>
  
      <div class="cat-3d-mobile">
          <ul>
              <!-- INSERTION DATA -->
          </ul>
      </div>
  
      <div class="next-section">
          <span>NEXT SECTION</span>
      </div>
  
      <div class="carshow-container">
          <div id="root"></div>
  
          <div class="feature-box">
              <img src="https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/cybertek.png" alt="" class="logo-cyb">
              <span class="sep">X</span>
              <img src="https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/alpine1.png" alt="" class="logo-alp">
          </div>
  
          <div class="container__bloc-txt autosize-container">
              <div class="bloc-txt">
                  <span class="surTitre"><span>Performance et immersion</span></span>
                  <h2><span>Alpine choisit Cybertek pour son SimRacing</span></h2>
                  <div class="bloc-txt__p">
                      <p>Cybertek rejoint la course avec Alpine en tant que partenaire officiel pour son équipement de SimRacing. Grâce à son expertise dans le matériel informatique et gaming, Cybertek fournit à Alpine des solutions haut de gamme pour une immersion et des performances optimales.</p>
                      <p>Volants de précision, cockpits ergonomiques et configurations PC taillées pour la simulation, tout est pensé pour offrir une expérience ultra-réaliste aux pilotes et passionnés de sport automobile. Cette collaboration marque une nouvelle étape dans l’univers du SimRacing, alliant innovation et savoir-faire technique pour repousser les limites de la simulation de course.</p>
                  </div>
                  <a href="#">Découvrir nos SimRacing</a>
              </div>
          </div>
  
  
  
      </div>
  
      <div class="next-section">
          <span>NEXT SECTION</span>
      </div>
  </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
          let isLoaded = false
          const title = document.querySelector('h1')
          const usLoader = document.querySelector('.us-loader')
          const loaderWrap = document.querySelector('.loader-wrap')
          const usLoaderDiv = document.querySelector('.us-loader div')
          const usLoaderSpan = document.querySelector('.us-loader span')
          const catLine = document.querySelector('.cat-line')
          const catLineDivs = gsap.utils.toArray('.cat-line div')
          const lis = gsap.utils.toArray('.hero-banner ul li span')
          const lisDiv = gsap.utils.toArray('.hero-banner ul li div')
    
          gsap.set(title, {
              y: 20
          })
          gsap.set(usLoaderDiv, {
              scaleX: 0
          })
          gsap.set(usLoaderSpan, { textContent: '0%' });
    
          const tl = gsap.timeline()
          tl.to(usLoaderDiv, {
              scaleX: 1,
              ease: "power3.inOut",
              duration: 3.5,
              onUpdate: function () {
                  const progress = Math.round(this.progress() * 100);
                  usLoaderSpan.textContent = `${progress}%`;
              }
          })
          tl.to(":root", {
              "--leftSpan": "95vw",
              ease: "power3.inOut",
              duration: 3.5,
          }, "<")
          tl.to(loaderWrap, {
              autoAlpha: 0,
              ease: "linear",
              duration: .5,
              onComplete: () => {
                  window.isLoaded = true
                  window.dispatchEvent(new CustomEvent("loaded"));
              }
          })
          .to(title, {
                  autoAlpha: 1,
                  y: 0,
                  duration: 0.5,
    
              })
          tl.to(catLine, {
              scaleX: 1,
              ease: "power3.inOut",
              duration: 1,
          }, "<")
              .to(catLineDivs, {
                  scaleY: 1,
                  ease: "power3.inOut",
                  duration: .5,
              }, "<30%")
              .to(lisDiv, {
                  scaleY: 1,
                  ease: "power3.inOut",
                  duration: .5,
                  stagger: 0.1
              }, "<50%")
              .to(lis, {
                  autoAlpha: 1,
                  yPercent: 0,
                  duration: 0.5,
              }, "<")
              
    
      })
     </script>
    
     <script>
       gsap.registerPlugin(ScrollTrigger);

       const dataCadres = [

  {
    name: "Base de volant PC",

  },
  {
    name: "Volant PC",

  },
  {
    name: "Pédalier Simracing",

  },
  {
    name: "Frein à Main PC",

  },
  {
    name: "Levier de Vitesse PC",

  },
  {
    name: "Accessoires gaming",

  },
  {
    name: "Pack Simracing",

  },
  {
    name: "Chassis Simracing",

  }
];
    
                 // CATEGORY
    
                 const dataCat = [
                 {
    name: "PC Gamer",
    content:
      "Nos châssis de simulation sont conçus pour offrir une stabilité maximale et une immersion totale. Fabriqués avec des matériaux robustes, ils sont réglables pour s'adapter à votre position de conduite idéale.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/pc_gamer.jpg"
  },
  {
    name: "Écrans PC",
    content:
      "Nos châssis de simulation sont conçus pour offrir une stabilité maximale et une immersion totale. Fabriqués avec des matériaux robustes, ils sont réglables pour s'adapter à votre position de conduite idéale.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/bundle.jpg"
  },
  {
    name: "Base de volant PC",
    content:
      "Nos châssis de simulation sont conçus pour offrir une stabilité maximale et une immersion totale. Fabriqués avec des matériaux robustes, ils sont réglables pour s'adapter à votre position de conduite idéale.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/base_de_volant.jpg"
  },
  {
    name: "Volant PC",
    content:
      "Conçus pour la performance, nos PC Gamer intègrent des composants haut de gamme, garantissant fluidité, graphismes époustouflants et une expérience de simulation réaliste.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/volant1.jpg"
  },
  {
    name: "Pédalier Simracing",
    content:
      "Offrant un ressenti réaliste et une réactivité optimale, nos pédaliers sont ajustables et dotés de capteurs de précision pour vous permettre de maîtriser chaque accélération et freinage.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/pedalier1.jpg"
  },
  {
    name: "Frein à Main PC",
    content:
      "Vivez la course avec un réalisme saisissant grâce à nos écrans haute définition, offrant une fréquence de rafraîchissement élevée et des couleurs éclatantes pour une immersion totale.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/frein_a_main.jpg"
  },
  {
    name: "Levier de Vitesse PC",
    content:
      "Dotés de retours de force précis, de matériaux haut de gamme et d'une ergonomie pensée pour la performance, nos volants vous permettent de ressentir chaque virage, chaque vibration et chaque instant de la piste comme un véritable pilote.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/boite_de_vitesse1.jpg"
  },
  {
    name: "Accessoires gaming",
    content:
      "Puissantes et réactives, nos bases de volant garantissent un retour de force fluide et détaillé, offrant une expérience de conduite ultra-immersive, compatible avec tous types de volants.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/accessoires.jpg"
  },
  {
    name: "Pack Simracing",
    content:
      "Optimisez votre installation avec nos accessoires gaming : leviers de vitesse, supports de casque et tapis de simulation, tout pour parfaire votre cockpit de course.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/bundle.jpg"
  },
  {
    name: "Chassis Simracing",
    content:
      "Simplifiez votre choix avec nos bundles clés en main, combinant châssis, volant, pédalier et écran, pour une expérience complète dès le déballage.",
    image:
      "https://cdn.jsdelivr.net/gh/lyman60740/cybertek-proto-simracing-page/public/images/chassis.jpg"
  }
];
// Déclarez un flag global pour suivre l'état de l'animation
let isAnimating = false;

function animateCategoryImage(newImageUrl) {
  // Si une animation est déjà en cours, on ignore le clic
  if (isAnimating) return;
  isAnimating = true;

  const categoryDiv = document.getElementById('category');
  const currentImg = categoryDiv.querySelector('img');

  // Crée le nouvel élément image et initialise ses styles pour l'animation
  const newImg = document.createElement('img');
  newImg.src = newImageUrl;
  newImg.style.position = "absolute";
  newImg.style.left = "0";
  newImg.style.width = "100%";
  newImg.style.transform = "translateY(100%)"; // démarre en bas

  // Ajoute le nouvel élément dans le conteneur
  categoryDiv.appendChild(newImg);

  // Crée une timeline GSAP pour animer les deux images simultanément
  const tl = gsap.timeline({
    onComplete: () => {
      // Une fois l'animation terminée, retire l'ancienne image (si présente)
      if (currentImg) {
        currentImg.remove();
      }
      // Réinitialise les styles en ligne si besoin
      newImg.style.position = "";
      newImg.style.transform = "";
      newImg.style.left = "";
      newImg.style.width = "";
      // Remet le flag à false pour autoriser une nouvelle animation
      isAnimating = false;
    }
  });

  // Anime l'ancienne image (si présente) vers le haut et la fait disparaître
  if (currentImg) {
    tl.to(currentImg, { scale: "0.7", duration: 0.5, ease: "power2.out" });
  }
  // Anime la nouvelle image pour qu'elle arrive du bas vers sa position finale
  tl.to(newImg, { y: "0%", duration: 0.5, ease: "power2.out" }, "<10%");
}



                 const mm = gsap.matchMedia()
    
                 // ✅ Sélecteurs
                 const liBox = document.querySelector(".cat-3d__bot ul");
                 const catIndex = document.getElementById("cat-index");
                 const catName = document.getElementById("cat-name");
                 const catContent = document.getElementById("cat-content");
                 const catLink = document.getElementById("cat-link");


                 // Cadres

                 const ulCadres = document.querySelector('.hero-banner ul');

                dataCadres.forEach(item => {
                  ulCadres.insertAdjacentHTML('beforeend', `<li><span>${item.name}</span><div></div></li>`);
                });

                 //Categories
    
                 mm.add("(min-width: 1000px)", () => {
                     // ✅ Insère dynamiquement les <li>
                      for (let i = 0; i < dataCat.length; i++) {
  liBox.insertAdjacentHTML('beforeend', `
    <li class="cat-item" data-index="${i}">
      <div class="cat-3d__bot__infos">
        <span>${(i + 1).toString().padStart(2, '0')}.</span>
        <span>${dataCat[i].name}</span>
      </div>
      <div class="cat-3d__bot__point"><div></div></div>
    </li>
  `);
}
    
                     // ✅ Ajoute l'événement click sur chaque <li>
                     const items = document.querySelectorAll(".cat-item");
    
                   // Variable globale pour stocker l'index de l'élément cliqué
let selectedIndex = null;

items.forEach(item => {
  // Click : met à jour le contenu et définit l'élément sélectionné
  item.addEventListener("click", () => {
    if (isAnimating) return;
    
    const index = item.dataset.index;
    selectedIndex = index; // Stocke l'élément cliqué

    // Met à jour les contenus
    catIndex.textContent = `(0${parseInt(index) + 1})`;  // Numérotation
    catName.textContent = dataCat[index].name;             // Nom
    catContent.textContent = dataCat[index].content;       // Description
    catLink.href = dataCat[index].link;

    gsap.fromTo([catIndex, catName, catContent],
      { opacity: 0, y: 20 },
      { opacity: 1, y: 0, duration: 0.7, ease: "power2.out", stagger: 0.1 }
    );

    // Anime tous les points à -200%
    const targetEl = item.querySelector('.cat-3d__bot__point div');
document.querySelectorAll('.cat-3d__bot__point div').forEach(el => {
  if (el !== targetEl) {
    gsap.to(el, {
      xPercent: -200,
      duration: 0.5,
      ease: "expo.out"
    });
  }
});
    // Et celui de l'élément cliqué à 0%
    gsap.to(item.querySelector('.cat-3d__bot__point div'), {
      xPercent: 0,
      duration: 0.5,
      ease: "expo.out"
    });

    animateCategoryImage(dataCat[index].image);
  });

  // Hover : quand on entre sur un élément
  item.addEventListener("mouseenter", () => {
    // On anime tous les points des éléments non sélectionnés vers -200%
    document.querySelectorAll('.cat-item').forEach(el => {
      if (el.dataset.index !== selectedIndex) {
        gsap.to(el.querySelector('.cat-3d__bot__point div'), {
          xPercent: -200,
          duration: 0.5,
          ease: "expo.out"
        });
      }
    });
    // Et pour l'élément survolé, on l'anime vers 0 si ce n'est pas déjà sélectionné
    if (item.dataset.index !== selectedIndex) {
      gsap.to(item.querySelector('.cat-3d__bot__point div'), {
        xPercent: 0,
        duration: 0.5,
        ease: "expo.out"
      });
    }
  });

  // Mouseleave : quand on quitte un élément
  item.addEventListener("mouseleave", () => {
    // Si l'élément quitté n'est pas le sélectionné, on ramène son point à -200%
    if (item.dataset.index !== selectedIndex) {
      gsap.to(item.querySelector('.cat-3d__bot__point div'), {
        xPercent: -200,
        duration: 0.5,
        ease: "expo.out"
      });
    }
  });
});

                     if (items.length > 0) {
                        items[0].click();
                      }
    
                 })
    
                 // LOGIQUE MOBILE 
    
    
                 mm.add("(max-width: 999px)", () => {
                     const mobileList = document.querySelector(".cat-3d-mobile ul");
    
                     // ✅ Génère dynamiquement les catégories mobiles
                     dataCat.forEach((data, i) => {
                         mobileList.insertAdjacentHTML('beforeend', `
       <li>
           <div class="cat-3d-mobile__top">
             <div class="cat-3d-mobile__top__name">
               <span>${(i + 1).toString().padStart(2, '0')}.</span>
               <span>${data.name}</span>
             </div>
             <div class="cat-3d__bot__point"></div>
           </div>
           <div class="cat-3d-mobile__content">
             <div class="cat-3d-mobile__content__img">
               <div class="cat-3d-mobile__img-wrap">
                 <img src="https://cybertek-proto-simracing-page.vercel.app/images/ph-product-mobile.png" alt="">
               </div>
             </div>
    
             <div class="cat-3d__top__description">
               <svg xmlns="http://www.w3.org/2000/svg" width="39" height="25" viewBox="0 0 39 25" fill="none">
                 <path d="M12.374 1.11352H39M12.5586 1L1 24" stroke="#D9D9D9" stroke-width="1"/>
               </svg>
               
               <p id="cat-content">Dotés de <strong>de force précis</strong>, de matériaux haut de gamme et d'une ergonomie pensée pour la <strong>performance</strong>, nos volants vous permettent de ressentir chaque virage, chaque vibration et chaque instant de la piste comme un véritable pilote.</p>
             </div>
             <a href="${data.link}" class="cat-3d__redirect" id="cat-link">
               <span>En savoir plus</span>
               <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                 <path d="M4 11.25L10 5.25V10.625H11.25V3.125H3.75V4.375H9.125L3.125 10.375L4 11.25Z" fill="white"/>
               </svg>
             </a>
           </div>
         </li>
     `);
                     });
    
                     const mobileItems = document.querySelectorAll(".cat-3d-mobile ul li");
    
                     mobileItems.forEach((item) => {
                         const itemHeight = item.querySelector(".cat-3d-mobile__content").offsetHeight
    
                         item.style.maxHeight = "62px";
    
                         item.addEventListener('click', () => {
    
                             gsap.to(mobileItems, {
                                 "max-height": 62,
                                 duration: .5,
                                 ease: "expo.out"
                             })
                             gsap.to(item, {
                                 "max-height": itemHeight + 62,
                                 duration: .5,
                                 ease: "expo.out"
                             })
                             gsap.to(document.querySelectorAll('.cat-3d__bot__point'), {
                                 background: "rgba(0,0,0,0)",
                                 duration: .5,
                                 ease: "expo.out"
                             })
                             gsap.to(item.querySelector('.cat-3d__bot__point'), {
                                 background: "#FFCF00",
                                 duration: .5,
                                 ease: "expo.out"
                             })
    
                         })
                     })
    
                 });
    
                 // ✅ Animation pour chaque <li> indépendamment
                 gsap.utils.toArray(".cat-3d-mobile ul li").forEach((item) => {
                     gsap.fromTo(
                         item,
                         {
                             opacity: 0,
                             y: 20,
                         },
                         {
                             opacity: 1,
                             y: 0,
                             duration: 0.7,
                             ease: "power2.out",
                             scrollTrigger: {
                                 trigger: item,
                                 start: "top 90%",
                                 end: "bottom bottom",
                                 toggleActions: "play none none reverse",
                                 markers: false,
                             },
                         }
                     );
                 });
    
                 // Animation linear bg 
    
                 gsap.fromTo(
                     ":root",
                     {
                         "--gradientStop1": "5%",
                         "--gradientStop2": "10%",
                         "--gradientStop3": "50%",
                     },
                     {
                         "--gradientStop1": "70%",
                         "--gradientStop2": "85%",
                         "--gradientStop3": "95%",
    
                         scrollTrigger: {
                             scrub: 2,
                             trigger: ".cat-3d",
                             start: "top top",
                             end: "bottom center",
                             toggleActions: "play none none reverse",
                             markers: false,
                         },
                     }
                 );
    
    
                 const paths = document.querySelectorAll('.cat-3d__top__description svg path');
    
       // ✅ Calcule la longueur de chaque chemin et anime
    
       //   paths.forEach(path => {
       //     const length = path.getTotalLength(); // 📏 Obtiens la longueur du chemin
       //     gsap.set(path, {
       //       strokeDasharray: length,   // Fait correspondre la longueur totale
       //       strokeDashoffset: length   // Cache complètement la ligne
       //     });
       //   document.querySelector(".cat-3d__top__description").addEventListener("click", ()=> {
       //     gsap.to(path, {
       //       strokeDashoffset: 0,       // 🪄 Dévoile le chemin
       //       duration: 2,
       //       ease: "power2.out",
       //       delay: 0.3,
       //     });
       //   });
    
       // })
     </script >

  </body>
</html>
