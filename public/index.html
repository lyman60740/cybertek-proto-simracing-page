<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Web site created using create-react-app" />

    <title>Car show</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div class="loader-wrap">
      <div class="us-loader">
        <div></div>
        <span></span>
      </div>
    </div>
    <div class="hero-banner">
      
      <div class="overlay-hero-banner"></div>
      <div id="cadres"></div>
      <h1>Plongez au coeur de l'univers SimRacing</h1>
      <ul>
        <div class="cat-line">
          <div></div>
          <div></div>
        </div>
        <li> <span>Chassis</span> <div></div></li>
        <li><span>PC Gamer</span> <div></div></li>
        <li><span>Pédaliers</span> <div></div></li>
        <li><span>Ecrans</span> <div></div></li>
        <li><span>Volants</span> <div></div></li>
        <li><span>Base de volant</span> <div></div></li>
        <li><span>Accessoires gaming</span><div></div></li>
        <li><span>Bundle</span><div></div></li>
      </ul>
    </div>

    <div class="cat-3d">
      <div class="cat-3d__wrapper">
        <div class="cat-3d__top">
          <div class="cat-3d__top__name">
            <div class="cat-3d__top__name__wrapper">
              <span id="cat-index">(00)</span>
              <span id="cat-name">Set up SimRacing</span>
            </div>
          </div>

          <div class="cat-3d__top__product">
            <div class="cat-3d__top__product__wrapper">
              <div id="category"></div>
              <div class="cat-3d__top__product__plaque"></div>
              
            </div>
          </div>

          <div class="cat-3d__top__description">
            <svg xmlns="http://www.w3.org/2000/svg" width="94" height="58" viewBox="0 0 94 58" fill="none">
              <path d="M28.5528 1.27639H93.0528M29 1L1 57" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
            
            <p id="cat-content">Dotés de <strong>de force précis</strong>, de matériaux haut de gamme et d'une ergonomie pensée pour la <strong>performance</strong>, nos volants vous permettent de ressentir chaque virage, chaque vibration et chaque instant de la piste comme un véritable pilote.</p>
          </div>

          <a href="" class="cat-3d__redirect" id="cat-link">
            <span>En savoir plus</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M6.4 18L16 8.4V17H18V5H6V7H14.6L5 16.6L6.4 18Z" fill="white"/>
            </svg>
          </a>
        </div>

        <div class="cat-3d__bot">
          <ul>
            <!-- INSERTION DATA DYNAMIQUE -->
          </ul>
        </div>
      </div>
    </div>

    <div class="carshow-container">
      <div id="root"></div>
      
      <div class="feature-box"><img src="images/cybertek.png" alt="" class="logo-cyb">
        <span class="sep">X</span>
        <img src="images/alpine1.png" alt="" class="logo-alp">
      </div>

      <div class="container__bloc-txt autosize-container">
        <div class="bloc-txt">
          <span class="surTitre"> <span>Performance et immersion</span></span>
          <h2><span>Alpine choisit Cybertek pour son SimRacing</span></h2>
          <div class="bloc-txt__p">
            <p>Cybertek rejoint la course avec Alpine en tant que partenaire officiel pour son équipement de SimRacing. Grâce à son expertise dans le matériel informatique et gaming, Cybertek fournit à Alpine des solutions haut de gamme pour une immersion et des performances optimales.</p>
            <p>Volants de précision, cockpits ergonomiques et configurations PC taillées pour la simulation, tout est pensé pour offrir une expérience ultra-réaliste aux pilotes et passionnés de sport automobile. Cette collaboration marque une nouvelle étape dans l’univers du SimRacing, alliant innovation et savoir-faire technique pour repousser les limites de la simulation de course.</p>
          </div>
          <a href="#">Découvrir nos SimRacing</a>
        </div>
      </div>
      
    </div>

    <div class="next-section">
      <span>NEXT SECTION</span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
     document.addEventListener('DOMContentLoaded', () => {
      let isLoaded = false
      const title = document.querySelector('h1')
      const usLoader = document.querySelector('.us-loader')
      const loaderWrap = document.querySelector('.loader-wrap')
      const usLoaderDiv = document.querySelector('.us-loader div')
      const usLoaderSpan = document.querySelector('.us-loader span')
      const catLine = document.querySelector('.cat-line')
      const catLineDivs = gsap.utils.toArray('.cat-line div')
      const lis = gsap.utils.toArray('.hero-banner ul li span')
      const lisDiv = gsap.utils.toArray('.hero-banner ul li div')

      gsap.set(title, {
          y: -20
      })
      gsap.set(usLoaderDiv, {
          scaleX: 0
      })
      gsap.set(usLoaderSpan, { textContent: '0%' });

      const tl = gsap.timeline()
      tl.to(usLoaderDiv, {
          scaleX: 1,
          ease: "power3.inOut",
          duration: 3.5,
          onUpdate: function() {
          const progress = Math.round(this.progress() * 100);
          usLoaderSpan.textContent = `${progress}%`;
      }
      })
      tl.to(":root", {
          "--leftSpan" : "95vw",
          ease: "power3.inOut",
          duration: 3.5,
      },"<")
      tl.to(loaderWrap, {
          autoAlpha: 0,
          ease: "linear",
          duration: .5,
          onComplete: () => {
              window.isLoaded = true
              window.dispatchEvent(new CustomEvent("loaded"));
          }
      })
      tl.to(catLine, {
          scaleX: 1,
          ease: "power3.inOut",
          duration: 1,
      })
          .to(catLineDivs, {
              scaleY: 1,
              ease: "power3.inOut",
              duration: .5,
          }, "<30%")
          .to(lisDiv, {
              scaleY: 1,
              ease: "power3.inOut",
              duration: .5,
              stagger: 0.1
          }, "<50%")
          .to(lis, {
              autoAlpha: 1,
              yPercent: 0,
              duration: 0.5,
          }, "<")
          .to(title, {
              autoAlpha: 1,
              y: 0,
              duration: 0.5,
             
          }, "<")

  })
  </script>

  <script>
    // CATEGORY

    const data = [
  {
    name: "Châssis",
    content: "Nos châssis de simulation sont conçus pour offrir une stabilité maximale et une immersion totale. Fabriqués avec des matériaux robustes, ils sont réglables pour s'adapter à votre position de conduite idéale.",
  link: "#"
  },
  {
    name: "PC Gamer",
    content: "Conçus pour la performance, nos PC Gamer intègrent des composants haut de gamme, garantissant fluidité, graphismes époustouflants et une expérience de simulation réaliste.",
  link: "#"
  },
  {
    name: "Pédaliers",
    content: "Offrant un ressenti réaliste et une réactivité optimale, nos pédaliers sont ajustables et dotés de capteurs de précision pour vous permettre de maîtriser chaque accélération et freinage.",
  link: "#"
  },
  {
    name: "Écrans",
    content: "Vivez la course avec un réalisme saisissant grâce à nos écrans haute définition, offrant une fréquence de rafraîchissement élevée et des couleurs éclatantes pour une immersion totale.",
  link: "#"
  },
  {
    name: "Volants",
    content: "Dotés de retours de force précis, de matériaux haut de gamme et d'une ergonomie pensée pour la performance, nos volants vous permettent de ressentir chaque virage, chaque vibration et chaque instant de la piste comme un véritable pilote.",
  link: "#"
  },
  {
    name: "Base de volant",
    content: "Puissantes et réactives, nos bases de volant garantissent un retour de force fluide et détaillé, offrant une expérience de conduite ultra-immersive, compatible avec tous types de volants.",
  link: "#"
  },
  {
    name: "Accessoires gaming",
    content: "Optimisez votre installation avec nos accessoires gaming : leviers de vitesse, supports de casque et tapis de simulation, tout pour parfaire votre cockpit de course.",
  link: "#"
  },
  {
    name: "Bundle",
    content: "Simplifiez votre choix avec nos bundles clés en main, combinant châssis, volant, pédalier et écran, pour une expérience complète dès le déballage.",
 link: "#"
  }
];


// ✅ Sélecteurs
const liBox = document.querySelector(".cat-3d__bot ul");
const catIndex = document.getElementById("cat-index");
const catName = document.getElementById("cat-name");
const catContent = document.getElementById("cat-content");
const catLink = document.getElementById("cat-link");

// ✅ Insère dynamiquement les <li>
for (let i = 0; i < data.length; i++) {
  liBox.insertAdjacentHTML('beforeend', `
    <li class="cat-item" data-index="${i}">
      <div class="cat-3d__bot__infos">
        <span>0${i + 1}.</span>
        <span>${data[i].name}</span>
      </div>
      <div class="cat-3d__bot__point"></div>
    </li>
  `);
}

// ✅ Ajoute l'événement click sur chaque <li>
const items = document.querySelectorAll(".cat-item");

items.forEach(item => {
  item.addEventListener("click", () => {
    const index = item.dataset.index;

    // ✅ Mets à jour les contenus
    catIndex.textContent = `(${parseInt(index) + 1})`;  // Numérotation
    catName.textContent = data[index].name;             // Nom
    catContent.textContent = data[index].content;       // Description

    catLink.href = data[index].link

    // ✅ Animation GSAP pour effet fluide
    gsap.fromTo(catContent, 
      { opacity: 0, y: 20 }, 
      { opacity: 1, y: 0, duration: 0.5, ease: "power2.out" }
    );
  });
});





    const paths = document.querySelectorAll('.cat-3d__top__description svg path');

// ✅ Calcule la longueur de chaque chemin et anime

  paths.forEach(path => {
    const length = path.getTotalLength(); // 📏 Obtiens la longueur du chemin
    gsap.set(path, {
      strokeDasharray: length,   // Fait correspondre la longueur totale
      strokeDashoffset: length   // Cache complètement la ligne
    });
  document.querySelector(".cat-3d__top__description").addEventListener("click", ()=> {
    gsap.to(path, {
      strokeDashoffset: 0,       // 🪄 Dévoile le chemin
      duration: 2,
      ease: "power2.out",
      delay: 0.3,
    });
  });

})
  </script>
  </body>
</html>
